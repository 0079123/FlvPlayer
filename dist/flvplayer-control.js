/*!
 * FlvPlayer.js v1.0.8
 * Github: https://github.com/zhw2590582/FlvPlayer#readme
 * (c) 2017-2019 Harvey Zack
 * Released under the MIT License.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).FlvplayerControl=t()}(this,function(){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r={play:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22">\n  <path d="M17.982 9.275L8.06 3.27A2.013 2.013 0 0 0 5 4.994v12.011a2.017 2.017 0 0 0 3.06 1.725l9.922-6.005a2.017 2.017 0 0 0 0-3.45z"></path>\n</svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22">\n    <path d="M7 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2zM15 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2z"></path>\n</svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22">\n    <path d="M10.188 4.65L6 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39V5.04a.498.498 0 0 0-.812-.39zM14.446 3.778a1 1 0 0 0-.862 1.804 6.002 6.002 0 0 1-.007 10.838 1 1 0 0 0 .86 1.806A8.001 8.001 0 0 0 19 11a8.001 8.001 0 0 0-4.554-7.222z"></path>\n    <path d="M15 11a3.998 3.998 0 0 0-2-3.465v6.93A3.998 3.998 0 0 0 15 11z"></path>\n</svg>',volumeClose:'<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22">\n    <path d="M15 11a3.998 3.998 0 0 0-2-3.465v2.636l1.865 1.865A4.02 4.02 0 0 0 15 11z"></path>\n    <path d="M13.583 5.583A5.998 5.998 0 0 1 17 11a6 6 0 0 1-.585 2.587l1.477 1.477a8.001 8.001 0 0 0-3.446-11.286 1 1 0 0 0-.863 1.805zM18.778 18.778l-2.121-2.121-1.414-1.414-1.415-1.415L13 13l-2-2-3.889-3.889-3.889-3.889a.999.999 0 1 0-1.414 1.414L5.172 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39v-3.131l2.587 2.587-.01.005a1 1 0 0 0 .86 1.806c.215-.102.424-.214.627-.333l2.3 2.3a1.001 1.001 0 0 0 1.414-1.416zM11 5.04a.5.5 0 0 0-.813-.39L8.682 5.854 11 8.172V5.04z"></path>\n</svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" height="36" width="36" viewBox="0 0 36 36">\n\t<path d="m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"></path>\n\t<path d="m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"></path>\n\t<path d="m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"></path>\n\t<path d="M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"></path>\n</svg>',loading:'<svg xmlns="http://www.w3.org/2000/svg" width="50px" height="50px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-default">\n  <rect x="0" y="0" width="100" height="100" fill="none" class="bk"/>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(0 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-1s" repeatCount="indefinite"/>\n  </rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(30 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"/>\n  </rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(60 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"/>\n  </rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(90 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.75s" repeatCount="indefinite"/></rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(120 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"/>\n  </rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(150 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"/>\n  </rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(180 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5s" repeatCount="indefinite"/></rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(210 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"/>\n  </rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(240 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"/>\n  </rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(270 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.25s" repeatCount="indefinite"/></rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(300 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"/>\n  </rect>\n  <rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#ffffff" transform="rotate(330 50 50) translate(0 -30)">\n    <animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"/>\n  </rect>\n</svg>'},o=Object.keys(r).reduce(function(e,t){return e[t]='<i class="flvplayer-icon flvplayer-icon-'.concat(t,'">').concat(r[t],"</i>"),e},{});function e(e,t){return e(t={exports:{}},t.exports),t.exports}var l=e(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(e){return n(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(e)}t.exports=r});function h(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=Math.floor(e-3600*t-60*n);return(0<t?[t,n,r]:[n,r]).map(function(e){return e<10?"0".concat(e):String(e)}).join(":")}function g(o,l){var i,a,c=!1;return function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(c)return i=n,void(a=this);c=!0,o.apply(this,n),setTimeout(function(){c=!1,i&&(e.apply(a,i),a=i=null)},l)}}function w(e,t,n){return Math.max(Math.min(e,Math.max(t,n)),Math.min(t,n))}function b(t,n,e){return"object"===l(n)&&Object.keys(n).forEach(function(e){b(t,e,n[e])}),t.style[n]=e,t}function $(e,t,n){var r=!(2<arguments.length&&void 0!==n)||n,o=getComputedStyle(e,null).getPropertyValue(t);return r?parseFloat(o):o}function i(n){for(var e=arguments.length,t=new Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];t.forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(e){if(function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(n,e))throw new Error("Target attribute name is duplicated: ".concat(e));Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})})}var a=e(function(e){var i,t,a,c,r,n;i="undefined"!=typeof window&&void 0!==window.document?window.document:{},t=e.exports,a="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,c=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,r=t.length,o={};n<r;n++)if((e=t[n])&&e[1]in i){for(n=0;n<e.length;n++)o[t[0][n]]=e[n];return o}return!1}(),r={change:c.fullscreenchange,error:c.fullscreenerror},n={request:function(l){return new Promise(function(e,t){var n,r=c.requestFullscreen,o=function(){this.off("change",o),e()}.bind(this);this.on("change",o),l=l||i.documentElement,n=/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?l[r]():l[r](a?Element.ALLOW_KEYBOARD_INPUT:{}),Promise.resolve(n).catch(t)}.bind(this))},exit:function(){return new Promise(function(e){if(this.isFullscreen){var t=function(){this.off("change",t),e()}.bind(this);i[c.exitFullscreen](),this.on("change",t)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,t){var n=r[e];n&&i.addEventListener(n,t,!1)},off:function(e,t){var n=r[e];n&&i.removeEventListener(n,t,!1)},raw:c},c?(Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(i[c.fullscreenElement])}},element:{enumerable:!0,get:function(){return i[c.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(i[c.fullscreenEnabled])}}}),t?(e.exports=n,e.exports.default=n):window.screenfull=n):t?e.exports=!1:window.screenfull=!1});function c(t,l){var e=t.options.poster,n=t.events.proxy,i=t.player;n(window,["click","contextmenu"],function(e){-1<e.composedPath().indexOf(i.$container)?l.isFocus=!0:l.isFocus=!1}),l.autoSize(),t.on("resize",function(){l.autoSize()}),t.on("scripMeta",function(){l.autoSize()}),e&&(t.on("play",function(){l.$poster.style.display="none"}),t.on("seeked",function(){l.$poster.style.display="none"})),t.on("waiting",function(){l.loading=!0}),t.on("ended",function(){l.loading=!1}),t.on("timeupdate",function(){l.loading=!1}),n(l.$play,"click",function(){i.play()}),n(l.$pause,"click",function(){i.pause()});var r=g(function(e){var t=w(e/i.duration,0,1);l.$loaded.style.width="".concat(100*t,"%")},500);t.on("videoLoaded",function(e){t.options.live||r(e)});var o=g(function(e){l.$played.style.width="".concat(e/i.duration*100,"%"),l.$current.innerText=h(e)},500);t.on("timeupdate",function(e){t.options.live||o(e)}),t.on("seeked",function(e){t.options.live||o(e)}),t.on("play",function(){l.$play.style.display="none",l.$pause.style.display="block"}),t.on("ended",function(){l.controls=!0,l.$play.style.display="block",l.$pause.style.display="none"}),t.on("loop",function(){l.controls=!1}),t.on("pause",function(){l.$play.style.display="block",l.$pause.style.display="none"}),t.on("scripMeta",function(){t.options.live||(l.$duration.innerText=h(i.duration))}),n(l.$fullscreen,"click",function(){l.fullscreen?l.fullscreen=!1:l.fullscreen=!0});var a=function(r,o,l){var i;function e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(i),i=setTimeout(function(){i=null,r.apply(l,t)},o)}return e.clearTimeout=function(){clearTimeout(i)},e}(function(){i.$player.classList.add("flvplayer-hide-cursor"),l.controls=!1},5e3);function c(e){var t=l.$volumePanel.getBoundingClientRect(),n=t.left,r=t.width,o=l.$volumeHandle.getBoundingClientRect().width;return 10*(w(e.x-n-o/2,0,r-o/2)/(r-o))}function s(e){if(0===e)b(l.$volumeOn,"display","none"),b(l.$volumeOff,"display","flex"),b(l.$volumeHandle,"left","0");else{var t=(($(l.$volumePanel,"width")||60)-$(l.$volumeHandle,"width"))*e/10;b(l.$volumeOn,"display","flex"),b(l.$volumeOff,"display","none"),b(l.$volumeHandle,"left","".concat(t,"px"))}}if(n(i.$player,"mousemove",function(){a.clearTimeout(),i.$player.classList.remove("flvplayer-hide-cursor"),l.controls=!0,i.playing&&a()}),t.options.hasAudio){var u=0,f=!1;s(t.options.volume),t.on("volumechange",function(){s(i.volume)}),n(l.$volumeOn,"click",function(){l.$volumeOn.style.display="none",l.$volumeOff.style.display="block",u=i.volume,i.volume=0}),n(l.$volumeOff,"click",function(){l.$volumeOn.style.display="block",l.$volumeOff.style.display="none",i.volume=u||7}),n(l.$volumePanel,"click",function(e){i.volume=c(e)}),n(l.$volumeHandle,"mousedown",function(){f=!0}),n(l.$volumeHandle,"mousemove",function(e){f&&(i.volume=c(e))}),n(document,"mouseup",function(){f=f&&!1})}function d(e){var t=l.$progress,n=t.getBoundingClientRect().left,r=w(e.x-n,0,t.clientWidth),o=r/t.clientWidth*i.duration;return{second:o,time:h(o),width:r,percentage:w(r/t.clientWidth,0,1)}}if(!t.options.live){n(l.$progress,"click",function(e){if(e.target!==l.$indicator){var t=d(e),n=t.second,r=t.percentage;n<=i.loaded&&(l.$played.style.width="".concat(100*r,"%"),i.currentTime=n)}});var p=!1;n(l.$indicator,"mousedown",function(){p=!0}),n(document,"mousemove",function(e){if(p){var t=d(e),n=t.second,r=t.percentage;n<=i.loaded&&(l.$played.style.width="".concat(100*r,"%"),i.currentTime=n)}}),n(document,"mouseup",function(){p=p&&!1});var v=!1,y=0,m=0;n(i.$canvas,"touchstart",function(e){v=!0,y=e.targetTouches[0].clientX}),n(i.$canvas,"touchmove",function(e){if(v){var t=l.$progress,n=e.targetTouches[0].clientX-y;m=n/t.clientWidth*i.duration}}),n(i.$canvas,"touchend",function(){v&&(v=!1,m<=i.loaded&&(i.currentTime+=m),m=y=0)})}}return function e(t){n(this,e),function(e,t){var n=e.options;e.player.$player.classList.add("flvplayer-controls-show"),n.live&&e.player.$player.classList.add("flvplayer-live"),e.player.$player.insertAdjacentHTML("beforeend","\n        ".concat(n.poster?'<div class="flvplayer-poster" style="background-image: url('.concat(n.poster,')"></div>'):"",'\n            <div class="flvplayer-loading">').concat(o.loading,'</div>\n            <div class="flvplayer-controls flv-player-controls-show ').concat(n.live?"flv-player-live":"",'">\n                ').concat(n.live?"":'\n                    <div class="flvplayer-controls-progress">\n                        <div class="flvplayer-loaded"></div>\n                        <div class="flvplayer-played">\n                            <div class="flvplayer-indicator"></div>\n                        </div>\n                    </div>\n                ','\n                <div class="flvplayer-controls-bottom">\n                    <div class="flvplayer-controls-left">\n                        <div class="flvplayer-controls-item flvplayer-state">\n                            <div class="flvplayer-play">').concat(o.play,'</div>\n                            <div class="flvplayer-pause">').concat(o.pause,"</div>\n                        </div>\n                        ").concat(n.hasAudio?'\n                            <div class="flvplayer-controls-item flvplayer-volume">\n                                <div class="flvplayer-volume-on">'.concat(o.volume,'</div>\n                                <div class="flvplayer-volume-off">').concat(o.volumeClose,'</div>\n                                <div class="flvplayer-volume-panel">\n                                    <div class="flvplayer-volume-panel-handle"></div>\n                                </div>\n                            </div>\n                        '):"","\n                        ").concat(n.live?"":'\n                            <div class="flvplayer-controls-item flvplayer-time">\n                                <span class="flvplayer-current">00:00</span> / <span class="flvplayer-duration">00:00</span>\n                            </div>\n                        ','\n                    </div>\n                    <div class="flvplayer-controls-right">\n                        <div class="flvplayer-controls-item flvplayer-fullscreen">').concat(o.fullscreen,"</div>\n                    </div>\n                </div>\n            </div>\n        ")),Object.defineProperty(t,"$poster",{value:n.container.querySelector(".flvplayer-poster")}),Object.defineProperty(t,"$loading",{value:n.container.querySelector(".flvplayer-loading")}),Object.defineProperty(t,"$controls",{value:n.container.querySelector(".flvplayer-controls")}),Object.defineProperty(t,"$state",{value:n.container.querySelector(".flvplayer-state")}),Object.defineProperty(t,"$play",{value:n.container.querySelector(".flvplayer-play")}),Object.defineProperty(t,"$pause",{value:n.container.querySelector(".flvplayer-pause")}),Object.defineProperty(t,"$current",{value:n.container.querySelector(".flvplayer-current")}),Object.defineProperty(t,"$duration",{value:n.container.querySelector(".flvplayer-duration")}),Object.defineProperty(t,"$volumeOn",{value:n.container.querySelector(".flvplayer-volume-on")}),Object.defineProperty(t,"$volumeOff",{value:n.container.querySelector(".flvplayer-volume-off")}),Object.defineProperty(t,"$volumePanel",{value:n.container.querySelector(".flvplayer-volume-panel")}),Object.defineProperty(t,"$volumeHandle",{value:n.container.querySelector(".flvplayer-volume-panel-handle")}),Object.defineProperty(t,"$fullscreen",{value:n.container.querySelector(".flvplayer-fullscreen")}),Object.defineProperty(t,"$progress",{value:n.container.querySelector(".flvplayer-controls-progress")}),Object.defineProperty(t,"$loaded",{value:n.container.querySelector(".flvplayer-loaded")}),Object.defineProperty(t,"$played",{value:n.container.querySelector(".flvplayer-played")}),Object.defineProperty(t,"$indicator",{value:n.container.querySelector(".flvplayer-indicator")})}(t,this),function(e){var t=e.events.proxy,n=e.player,r=document.createElement("object");r.setAttribute("aria-hidden","true"),r.setAttribute("tabindex",-1),r.type="text/html",r.data="about:blank",b(r,{display:"block",position:"absolute",top:"0",left:"0",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none",zIndex:"-1"});var o=n.width,l=n.height;t(r,"load",function(){t(r.contentDocument.defaultView,"resize",function(){n.width===o&&n.height===l||(o=n.width,l=n.height,e.emit("resize"))})}),n.$container.appendChild(r)}(t),function(t,e){var i=t.player;Object.defineProperty(e,"controls",{get:function(){return i.$player.classList.contains("flvplayer-controls-show")},set:function(e){e?i.$player.classList.add("flvplayer-controls-show"):i.$player.classList.remove("flvplayer-controls-show")}}),Object.defineProperty(e,"loading",{get:function(){return i.$player.classList.contains("flvplayer-loading-show")},set:function(e){e?i.$player.classList.add("flvplayer-loading-show"):i.$player.classList.remove("flvplayer-loading-show")}});try{var n=function(){e.fullscreen?i.$container.classList.add("flvplayer-fullscreen"):i.$container.classList.remove("flvplayer-fullscreen"),e.autoSize()};a.on("change",n),t.events.destroys.push(function(){a.off("change",n)})}catch(e){t.debug.warn(!1,"Does not seem to support full screen events")}Object.defineProperty(e,"fullscreen",{get:function(){return a.isFullscreen||i.$container.classList.contains("flvplayer-fullscreen-web")},set:function(e){if(e)try{a.request(i.$container)}catch(e){i.$container.classList.add("flvplayer-fullscreen-web")}else try{a.exit()}catch(e){i.$container.classList.remove("flvplayer-fullscreen-web")}}}),Object.defineProperty(e,"autoSize",{value:function(){var e=i.width,t=i.height,n=e/t,r=i.$canvas.width/i.$canvas.height;if(r<n){var o=(e-t*r)/2;i.$container.style.padding="0 ".concat(o,"px")}else{var l=(t-e/r)/2;i.$container.style.padding="".concat(l,"px 0")}}})}(t,this),c(t,this),i(t,this),function(e,t){var n=e.events.proxy,o=e.player,l={};function r(e,t){l[e]?l[e].push(t):l[e]=[t]}r(27,function(){t.fullscreen&&(o.fullscreen=!1)}),r(32,function(){o.toggle()}),r(37,function(){o.currentTime-=10}),r(38,function(){o.volume+=1}),r(39,function(){o.currentTime+=10}),r(40,function(){o.volume-=1}),n(window,"keydown",function(e){if(o.isFocus){var t=document.activeElement.tagName.toUpperCase(),n=document.activeElement.getAttribute("contenteditable");if("INPUT"!==t&&"TEXTAREA"!==t&&""!==n&&"true"!==n){var r=l[e.keyCode];r&&(e.preventDefault(),r.forEach(function(e){return e()}))}}})}(t,this)}});
